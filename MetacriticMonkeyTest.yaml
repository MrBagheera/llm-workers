# General definition of tools. To be available for LLM, tool reference has to be included in
# LLM definition as well.
custom_tools:
  metacritic_monkey:
    tool_type: debug
    description: >
      Finds the Metacritic score for a given movie title and year. Returns either a single number or "N/A" if the movie is not found.
    params:
      movie_title:
        description: Movie title
        type: str
        optional: false
      movie_year:
        description: Movie release year
        type: int
        optional: false
    result_text: "94"
  metacritic_monkeyz:
    tool_type: LLM
    description: >
      Finds the Metacritic score for a given movie title and year. Returns either a single number or "N/A" if the movie is not found.
    params:
      movie_title:
        description: Movie title
        type: str
        optional: false
      movie_year:
        description: Movie release year
        type: int
        optional: false
    tool_refs:
        - fetch_url_text
    instructions: >
      Your job is to find the Metacritic score for a movie {movie_title} released in year {movie_year}.
      To do so:
      - Fetch page text from `https://www.metacritic.com/search/{movie_title}/?page=1&category=2` 
      - From the list of (movie title, release year, metacritic score), chose the one best matching the title and year
      and return metacritic score as single number
      - If the movie is not found, return "N/A" (without quotes)

main:
  provider: ollama
  model: llama3.1
  instructions: >
    Your job is to find metacritic score for the movie "Soul" (2020).
  interactive: false
  debug: true
  tool_refs:
    - metacritic_monkey
